(this.webpackJsonplofiradio=this.webpackJsonplofiradio||[]).push([[0],{21:function(e,t,n){},22:function(e,t,n){},34:function(e,t,n){"use strict";n.r(t);var r=n(5),a=n.n(r),c=n(14),i=n.n(c),u=(n(21),n(22),n(10)),s=n.n(u),o=n(11),l=n(9),d=n(15),f=n.n(d),p=(n(35),n(16).a.initializeApp({apiKey:"AIzaSyDLw8GW7n6Esn_4OtxpfDppC_8c-lqdpwc",authDomain:"radio-22579.firebaseapp.com",projectId:"radio-22579",storageBucket:"radio-22579.appspot.com",messagingSenderId:"1041676080851",appId:"1:1041676080851:web:bd213bf260fb60b923e626"}));function b(){return j.apply(this,arguments)}function j(){return(j=Object(o.a)(s.a.mark((function e(){var t,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.firestore().collection("queue").doc("queue").get();case 2:if(!(t=e.sent)||!t.exists){e.next=6;break}return n=t.data(),e.abrupt("return",n.queue);case 6:return e.abrupt("return",[]);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var v=n(4);function h(){var e=Object(r.useState)([]),t=Object(l.a)(e,2),n=t[0],a=t[1],c=Object(r.useState)(),i=Object(l.a)(c,2),u=i[0],d=i[1],p=Object(r.useState)(!1),j=Object(l.a)(p,2),h=j[0],O=j[1],m=Object(r.useState)(!1),x=Object(l.a)(m,2),g=x[0],y=x[1],k=Object(r.useRef)(null);function w(){return(w=Object(o.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b();case 2:t=e.sent,a(t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function I(e){for(var t=e.reduce((function(e,t){return e+t.duration}),0),n=(new Date).getTime()/1e3%t,r=0;r<e.length;r++){if(!(n>=e[r].duration))return[e[r],n];n-=e[r].duration}return[e[0],0]}function S(e){var t,n=I(e),r=Object(l.a)(n,2),a=r[0],c=r[1];console.log(c),a&&u!==a&&d(a),a&&(null===(t=k.current)||void 0===t||t.seek(c))}return Object(r.useEffect)((function(){!function(){w.apply(this,arguments)}()}),[]),Object(r.useEffect)((function(){var e=setInterval((function(){if(n.length>0){var e=I(n),t=Object(l.a)(e,2),r=t[0],a=t[1];if(k.current){var c=k.current.seek()-a;r&&u?(u.name!==r.name||c>2)&&S(n):S(n)}else S(n)}}),500);return function(){clearInterval(e)}}),[n,u]),Object(v.jsxs)("div",{onClick:function(){var e;!h&&g&&(null===(e=k.current)||void 0===e||e.play())},className:"d-flex min-vh-100 align-items-center justify-content-center",children:[u&&Object(v.jsx)(f.a,{src:u.url,ref:k,playing:!0,onLoad:function(){var e;y(!0),null===(e=k.current)||void 0===e||e.play()},onEnd:function(){return y(!1)},onPlay:function(){O(!0),S(n)}}),Object(v.jsxs)("div",{className:"centre-card",children:[Object(v.jsx)("div",{className:"h3",children:"Abhinay's LoFi Radio"}),h&&Object(v.jsxs)("div",{className:"",children:["Currently Playing : ",null===u||void 0===u?void 0:u.name]}),!h&&g&&Object(v.jsx)("div",{className:"",children:"Click anywhere to start the playback!"}),!g&&Object(v.jsx)("div",{className:"spinner-border text-light",role:"status"})]})]})}var O=function(){return Object(v.jsx)("div",{className:"App",children:Object(v.jsx)(h,{})})},m=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,36)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),r(e),a(e),c(e),i(e)}))};n(33);i.a.render(Object(v.jsx)(a.a.StrictMode,{children:Object(v.jsx)(O,{})}),document.getElementById("root")),m()}},[[34,1,2]]]);
//# sourceMappingURL=main.eae9e7bf.chunk.js.map